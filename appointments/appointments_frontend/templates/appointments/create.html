
{% extends "base.html" %}

{% block content %}
<!{# ============================================================================
   appointments/create.html
   Purpose:
     - Renders the appointment booking form using AppointmentForm.
     - Integrates root-level components: breadcrumbs, form styling, validation.
     - Uses POST method to submit to AppointmentCreateView.
   Context expected:
     - form: instance of AppointmentForm
     - crumbs: breadcrumb trail (list of {label, url})
   ============================================================================ #}-->

<div class="container my-4">

  {# Breadcrumbs for navigation context #}
  {% include "includes/breadcrumbs.html" with crumbs=crumbs %}

  <h2 class="mb-3">Book an Appointment</h2>
  <p class="text-muted">Fill out the form below to schedule your appointment.</p>

  <form method="post" novalidate>
    {% csrf_token %}

    {# Doctor selection dropdown #}
    <div class="mb-3">
      <label for="id_doctor" class="form-label">Select Doctor</label>
      {{ form.doctor }}
      {% if form.doctor.errors %}
        <div class="text-danger">{{ form.doctor.errors }}</div>
      {% endif %}
    </div>

    {# Date and time picker #}
    <div class="mb-3">
      <label for="id_scheduled_time" class="form-label">Scheduled Time</label>
      {{ form.scheduled_time }}
      {% if form.scheduled_time.errors %}
        <div class="text-danger">{{ form.scheduled_time.errors }}</div>
      {% endif %}
    </div>

    {# Reason textarea #}
    <div class="mb-3">
      <label for="id_reason" class="form-label">Reason (optional)</label>
      {{ form.reason }}
      {% if form.reason.errors %}
        <div class="text-danger">{{ form.reason.errors }}</div>
      {% endif %}
    </div>

    {# Submit button #}
    <button type="submit" class="btn btn-primary">Book Appointment</button>
  </form>

</div>
{% endblock %}
