{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Charset and viewport for responsive, accessible layout -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- Page title: each view can override this block -->
    <title>{% block title %}MedApp{% endblock %}</title>

    <!-- Design tokens: central source of truth for colors, spacing, typography -->
    <link rel="stylesheet" href="{% static 'css/tokens.css' %}">

    <!-- Core styles: resets, utilities, small layout defaults -->
    <link rel="stylesheet" href="{% static 'css/base.css' %}">

    <!-- Optional: Bootstrap CSS (CDN) for grid/components) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Page/component-specific CSS -->
    {% block styles %}{% endblock %}
  </head>
  <body class="medapp-root">
    <!-- Accessibility: skip to main content for keyboard users -->
    <a class="visually-hidden-focusable" href="#main-content">Skip to main content</a>

    <!-- Header / navbar (overridable block) -->
    <header class="medapp-header">
      {% block navbar %}
        {% include 'includes/header.html' %}
      {% endblock %}
    </header>

    <!-- Main layout (Bootstrap grid for responsive structure) -->
    <main id="main-content" class="container-fluid medapp-main py-3">
      <div class="row gx-4">
        <!-- Optional sidebar -->
        <aside class="col-12 col-lg-3 medapp-sidebar">
          {% block sidebar %}{% endblock %}
        </aside>

        <!-- Primary page content -->
        <section class="col-12 col-lg-9 medapp-content">
          {% block content %}{% endblock %}
        </section>
      </div>
    </main>

    <!-- Inline JSON data block: views can inject small payloads -->
    <script id="medapp-inline-data" type="application/json">
      {% block inline-data %}{}{% endblock %}
    </script>

    <!-- Bootstrap JS bundle (Popper included) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Global JS entry (namespace, component registry, auto-mount) -->
    <script src="{% static 'js/base.js' %}"></script>

    <!-- Page/component-specific scripts -->
    {% block scripts %}{% endblock %}

    <!-- Footer (overridable block) -->
    <footer class="medapp-footer mt-4">
      {% block footer %}
        {% include 'includes/footer.html' %}
      {% endblock %}
    </footer>
  </body>
</html>
